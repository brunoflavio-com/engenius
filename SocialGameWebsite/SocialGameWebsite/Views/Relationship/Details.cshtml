@model SocialGameWebsite.Models.RelationshipViewModel

<div id="relationshipStrenght">
    <span class="label">@Html.LabelFor(model => model.Strenght)</span>
    <span class="value">@Html.ValueFor(model => model.Strenght)</span>
</div>

<div id="relationshipName">
    <span class="label">@Html.LabelFor(model => model.RelationshipTag.Name)</span>
    <span class="value">@Html.ValueFor(model => model.RelationshipTag.Name)</span>
</div>

<script type="text/javascript">
    function disableBeforePost() {
        $("#viewRelationshipFormSubmit").prop('disabled', true);
    }
</script>

@using (Ajax.BeginForm("EditAction", "Relationship",
    new { 
        UserA = SocialGameWebsite.Util.Base64.Encode(Model.UserA.Email),
        UserB = SocialGameWebsite.Util.Base64.Encode(Model.UserB.Email)
    }, 
    new AjaxOptions {
        HttpMethod = "Post",
        InsertionMode = InsertionMode.Replace,
        UpdateTargetId = "relationshipPartialView",
        OnBegin = "disableBeforePost()"
    }, new { id = "detailsRelationshipForm" }))
{
    @Html.AntiForgeryToken()

    <input type="submit" id="viewRelationshipFormSubmit" value="Edit" />
}

@using (Ajax.BeginForm("Remove", "Relationship",
    new
    {
        UserA = SocialGameWebsite.Util.Base64.Encode(Model.UserA.Email),
        UserB = SocialGameWebsite.Util.Base64.Encode(Model.UserB.Email)
    },
    new AjaxOptions
    {
        HttpMethod = "Post",
        InsertionMode = InsertionMode.Replace,
        UpdateTargetId = "relationshipPartialView",
        OnBegin = "disableBeforePost()"
    }, new { id = "detailsRelationshipForm" }))
{
    @Html.AntiForgeryToken()

    <input type="submit" id="viewRelationshipFormSubmit" value="Remove" />
}



