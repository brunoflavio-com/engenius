@model SocialGameWebsite.Models.EditRelationshipViewModel

<script>
    function disableBeforePost() {
        $("#cancelRequestButton").prop('disabled', true);
    }
</script>

@using (Ajax.BeginForm("CancelRequest", "Relationship", 
    new 
    { 
        UserA = SocialGameWebsite.Util.Base64.Encode(Model.UserA),
        UserB = SocialGameWebsite.Util.Base64.Encode(Model.UserB)
    },
    new AjaxOptions
    {
    HttpMethod = "Post",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "relationshipPartialView",
    OnBegin = "disableBeforePost"
    },
    new { id = "cancelRequestForm"}))
{
    @Html.AntiForgeryToken()
    
    <input type="submit" id="cancelRequestButton" value="Cancel Request"/>
}

